# ุฑุงูููุง ุฑุงูโุงูุฏุงุฒ ุฏุชุงุจุณ ู ูพุฑูฺู

## ๐ ุฎูุงุตู ุชุบุฑุงุช

โ Schema Prisma ฺฉุงูู ุดุฏู ุจุง ุชูุงู ูุฏูโูุง (User, Patient, Doctor, Pharmacist, Admin, Medication, Appointment, Prescription)
โ Backend API ุจุง Express ุณุงุฎุชู ุดุฏู ุจุฑุง ุนููุงุช CRUD ุฏุงุฑููุง
โ Frontend ุจู API ูุชุตู ุดุฏู
โ Scripts ูุงุฒู ุจู package.json ุงุถุงูู ุดุฏู

## ๐ ูุฑุงุญู ุฑุงูโุงูุฏุงุฒ

### ูุฑุญูู ฑ: ูุตุจ PostgreSQL

```bash
sudo apt update
sudo apt install postgresql postgresql-contrib
sudo systemctl start postgresql
sudo systemctl enable postgresql
```

### ูุฑุญูู ฒ: ุงุฌุงุฏ ุฏุชุงุจุณ

```bash
sudo -u postgres psql
```

ุฏุฑ ูุญุท PostgreSQL ุงู ุฏุณุชูุฑุงุช ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```sql
CREATE DATABASE hospital_db;
CREATE USER hospital_user WITH PASSWORD 'hospital123';
GRANT ALL PRIVILEGES ON DATABASE hospital_db TO hospital_user;
\q
```

### ูุฑุญูู ณ: ุงุฌุงุฏ ูุงู .env

ุฏุฑ ุฑูุช ูพุฑูฺูุ ูุงู `.env` ุงุฌุงุฏ ฺฉูุฏ:

```env
DATABASE_URL="postgresql://hospital_user:hospital123@localhost:5432/hospital_db?schema=public"
PORT=3001
```

**โ๏ธ ููู**: ุงฺฏุฑ ูุงู ฺฉุงุฑุจุฑ ุง ุฑูุฒ ุนุจูุฑ ุฑุง ุชุบุฑ ุฏุงุฏูโุงุฏุ ุขููุง ุฑุง ุฏุฑ DATABASE_URL ุจูโุฑูุฒ ฺฉูุฏ.

### ูุฑุญูู ด: ูุตุจ ูุงุจุณุชฺฏโูุง

```bash
npm install
```

### ูุฑุญูู ต: ุฑุงูโุงูุฏุงุฒ ุฏุชุงุจุณ

```bash
# ุชููุฏ Prisma Client
npm run db:generate

# ุงุฌุงุฏ ุฌุฏุงูู ุฏุฑ ุฏุชุงุจุณ
npm run db:migrate
```

### ูุฑุญูู ถ: ุงุฌุฑุง ูพุฑูฺู

**ุชุฑููุงู ฑ - Backend:**
```bash
npm run server
```

**ุชุฑููุงู ฒ - Frontend:**
```bash
npm run dev
```

## ๐ ูุดุงูุฏู ุฏุชุงุจุณ ุจุง Prisma Studio

ุฏุฑ ฺฉ ุชุฑููุงู ุฌุฏุฏ:

```bash
npm run db:studio
```

ุงู ุฏุณุชูุฑ Prisma Studio ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ุจุงุฒ ูโฺฉูุฏ (http://localhost:5555)

ุฏุฑ Prisma Studio ูโุชูุงูุฏ:
- โ ุชูุงู ุฌุฏุงูู (Tables) ุฑุง ูุดุงูุฏู ฺฉูุฏ
- โ ุฏุงุฏูโูุง ูุฑ ุฌุฏูู ุฑุง ุจุจูุฏ
- โ ุฏุงุฏูโูุง ุฌุฏุฏ ุงุถุงูู ฺฉูุฏ
- โ ุฏุงุฏูโูุง ุฑุง ูุฑุงุด ุง ุญุฐู ฺฉูุฏ

## ๐ ุฌุฏุงูู ููุฌูุฏ ุฏุฑ ุฏุชุงุจุณ

1. **User** - ุงุทูุงุนุงุช ฺฉุงุฑุจุฑุงู (username, password, role, ...)
2. **Patient** - ุงุทูุงุนุงุช ุจูุงุฑุงู
3. **Doctor** - ุงุทูุงุนุงุช ูพุฒุดฺฉุงู
4. **Pharmacist** - ุงุทูุงุนุงุช ุฏุงุฑูุณุงุฒุงู
5. **Admin** - ุงุทูุงุนุงุช ูุฏุฑุงู
6. **Medication** - ุงุทูุงุนุงุช ุฏุงุฑููุง โญ (ุจุฎุด ุฏุงุฑูุฎุงูู)
7. **Appointment** - ูุฑุงุฑ ููุงูุงุชโูุง
8. **Prescription** - ูุณุฎูโูุง
9. **PrescriptionItem** - ุขุชูโูุง ูุฑ ูุณุฎู

## ๐ API Endpoints ุจุฑุง ุฏุงุฑููุง

- `GET /api/medications` - ุฏุฑุงูุช ููู ุฏุงุฑููุง
- `GET /api/medications/:id` - ุฏุฑุงูุช ฺฉ ุฏุงุฑู ุฎุงุต
- `POST /api/medications` - ุงุถุงูู ฺฉุฑุฏู ุฏุงุฑู ุฌุฏุฏ
- `PUT /api/medications/:id` - ุจูโุฑูุฒุฑุณุงู ุฏุงุฑู
- `DELETE /api/medications/:id` - ุญุฐู ุฏุงุฑู

## ๐ฏ ุงุณุชูุงุฏู ุงุฒ ูพูู ุฏุงุฑูุฎุงูู

1. ูพุฑูฺู ุฑุง ุงุฌุฑุง ฺฉูุฏ (Backend + Frontend)
2. ุจู ุขุฏุฑุณ Frontend ุจุฑูุฏ (ูุนูููุงู http://localhost:5173)
3. ุจุง ููุด "ุฏุงุฑูุณุงุฒ" ูุงุฑุฏ ุดูุฏ
4. ุฏุฑ ูพูู ุฏุงุฑูุฎุงูู ูโุชูุงูุฏ:
   - ุฏุงุฑููุง ุฌุฏุฏ ุงุถุงูู ฺฉูุฏ
   - ุฏุงุฑููุง ููุฌูุฏ ุฑุง ูุฑุงุด ฺฉูุฏ
   - ุฏุงุฑููุง ุฑุง ุญุฐู ฺฉูุฏ
   - ููุฌูุฏ ู ููุช ุฏุงุฑููุง ุฑุง ูุฏุฑุช ฺฉูุฏ

## ๐ง ุฏุณุชูุฑุงุช ููุฏ

```bash
# ูุดุงูุฏู ุฏุชุงุจุณ ุจุง Prisma Studio
npm run db:studio

# ุงุฌุฑุง Migration ุฌุฏุฏ
npm run db:migrate

# ุชููุฏ Prisma Client (ุจุนุฏ ุงุฒ ุชุบุฑ schema)
npm run db:generate

# Push ุชุบุฑุงุช schema ุจู ุฏุชุงุจุณ (ุจุฏูู migration)
npm run db:push
```

## โ ูฺฉุงุช ููู

1. ููุดู ูุจู ุงุฒ ุงุฌุฑุง Frontendุ Backend ุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ
2. ูุฑ ุจุงุฑ ฺฉู `prisma/schema.prisma` ุฑุง ุชุบุฑ ูโุฏูุฏุ ุจุงุฏ `npm run db:migrate` ุงุฌุฑุง ฺฉูุฏ
3. ูุงู `.env` ุฑุง ุฏุฑ Git commit ูฺฉูุฏ (ุฏุฑ .gitignore ุงุณุช)

## ๐ ุนุจโุงุจ

**ูุดฺฉู**: ุฎุทุง ุงุชุตุงู ุจู ุฏุชุงุจุณ
- ุจุฑุฑุณ ฺฉูุฏ PostgreSQL ุฏุฑ ุญุงู ุงุฌุฑุงุณุช: `sudo systemctl status postgresql`
- ุจุฑุฑุณ ฺฉูุฏ DATABASE_URL ุฏุฑ .env ุฏุฑุณุช ุงุณุช
- ุจุฑุฑุณ ฺฉูุฏ ฺฉุงุฑุจุฑ ู ุฏุชุงุจุณ ุฏุฑุณุช ุงุฌุงุฏ ุดุฏู: `psql -U hospital_user -d hospital_db`

**ูุดฺฉู**: Migration ุฎุทุง ูโุฏูุฏ
- ุฏุชุงุจุณ ุฑุง reset ฺฉูุฏ: `npm run db:migrate reset`
- ุง migration ุฑุง ุงุฒ ูู ุจุณุงุฒุฏ

**ูุดฺฉู**: Backend ุงุฌุฑุง ููโุดูุฏ
- ุจุฑุฑุณ ฺฉูุฏ PORT 3001 ุขุฒุงุฏ ุงุณุช
- ุจุฑุฑุณ ฺฉูุฏ dependencies ูุตุจ ุดุฏู: `npm install`



